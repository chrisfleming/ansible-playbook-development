# neovim-ppa only available on Bionic or Xenial
- apt_repository:
    repo: ppa:neovim-ppa/stable
  when: ansible_distribution == 'Ubuntu' and (ansible_distribution_release == 'bionic' or ansible_distribution_release == 'xenial')

- apt_repository:
    repo: ppa:rael-gc/rvm
  when: ansible_distribution == 'Ubuntu'

- name: standard packages
  apt:
    name: "{{ packages }}"
    update_cache: yes
    cache_valid_time: 3600
  vars:
    packages:
    - git
    - zsh
    - curl
    - traceroute
    - htop
    - mosh
    - python
    - python3
    - python3-pip
    - python3-psycopg2
    - python3-venv
    - tmux
    - ruby
    - ruby-dev
    - ruby-bundler
    - rvm
    - neovim

- name: neovim gem
  command: gem install neovim
